<div class="sort-container" (click)="toggleSort()">
  <label for="sortBy" class="sort-label">Sort By:</label>
  <span class="sort-order">{{ sortOrder === 'asc' ? 'A-Z' : 'Z-A' }}</span>
  <mat-icon class="sort-icon">{{ sortOrder === 'asc' ? 'arrow_drop_down' : 'arrow_drop_up' }}</mat-icon>
</div>

<!-- Trigger Button for Filter Dialog -->
<button class="filter-button" (click)="openDialog()">Filter</button>

<!-- Filter Dialog Implementation -->
<div class="dialog" *ngIf="isDialogOpen">
  <div class="dialog-content">
    <div class="dialog-header">
      <div class="filter-title">Filter</div>
      <hr/>
      <mat-icon class="close-icon" (click)="closeDialog()">close</mat-icon> <!-- Close Icon -->
      <hr/>
    </div>

    <div class="filter-section">
      <hr />
      <h3 (click)="toggleExpand('category')" class="expand-title">Category <mat-icon class="expand">{{ isExpanded['category'] ? 'expand_less' : 'expand_more' }}</mat-icon></h3>
      <div *ngIf="isExpanded['category']">
        <label>
          <input type="checkbox" [(ngModel)]="selectedCategories['Permanent']" /> Permanent
        </label>
        <label>
          <input type="checkbox" [(ngModel)]="selectedCategories['Contract']" /> Contract
        </label>
      </div>
      <hr />
    </div>

    <div class="filter-section">
      <h3 (click)="toggleExpand('location')" class="expand-title">Location <mat-icon class="expand">{{ isExpanded['location'] ? 'expand_less' : 'expand_more' }}</mat-icon></h3>
      <div *ngIf="isExpanded['location']">
        <label>
          <input type="checkbox" [(ngModel)]="selectedLocations['Onsite']" /> Onsite
        </label>
        <label>
          <input type="checkbox" [(ngModel)]="selectedLocations['Offsite']" /> Offsite
        </label>
        <label>
          <input type="checkbox" [(ngModel)]="selectedLocations['Remote']" /> Remote
        </label>
      </div>
      <hr />
    </div>

    <div class="filter-section">
      <h3 (click)="toggleExpand('qualification')" class="expand-title">Qualification <mat-icon class="expand">{{ isExpanded['qualification'] ? 'expand_less' : 'expand_more' }}</mat-icon></h3>
      <div *ngIf="isExpanded['qualification']">
        <label>
          <input type="checkbox" [(ngModel)]="selectedQualifications['Diploma']" /> Diploma
        </label>
        <label>
          <input type="checkbox" [(ngModel)]="selectedQualifications['Degree']" /> Degree
        </label>
        <label>
          <input type="checkbox" [(ngModel)]="selectedQualifications['Higher Diploma']" /> Higher Diploma
        </label>
        <label>
          <input type="checkbox" [(ngModel)]="selectedQualifications['Certificate']" /> Certificate
        </label>
      </div>
      <hr />
    </div>

    <div class="dialog-footer">
      <button (click)="applyFilter()" class="dialog-button">Apply</button>
      <button (click)="clearFilters()" class="dialog-button">Clear</button> <!-- Clear Button -->
    </div>
  </div>
</div>

<div class="search-container">
  <input
    type="text"
    placeholder="Search Employees"
    [(ngModel)]="searchTerm"
    (ngModelChange)="filterEmployees()"
    class="search-input"
  />
  <button class="search-button" (click)="filterEmployees()">
    <mat-icon class="search-icon">search</mat-icon>
  </button>
</div>

<div class="employee-cards">
  <mat-card *ngFor="let employee of displayedEmployees" class="employee-card">
    <mat-card-header>
      <mat-card-title>{{ employee.name }}</mat-card-title>
      <mat-card-subtitle>{{ employee.position }}</mat-card-subtitle>
    </mat-card-header>
    <img mat-card-image [src]="employee.image" alt="{{ employee.name }}">
    <mat-card-content>
      <p>Category: {{ employee.category }}</p>
      <p>Join Date: {{ employee.joinDate }}</p>
      <p>Location: <mat-icon class="expand">{{ employee.locationIcon }}</mat-icon> {{ employee.location }}</p>
    </mat-card-content>
    <mat-card-actions>
      <button mat-button>View Details</button>
    </mat-card-actions>
  </mat-card>
</div>
